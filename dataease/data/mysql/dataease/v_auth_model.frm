TYPE=VIEW
query=select `dataease`.`sys_user`.`user_id` AS `id`,concat(`dataease`.`sys_user`.`nick_name`,\'（\',`dataease`.`sys_user`.`username`,\'）\') AS `name`,`dataease`.`sys_user`.`username` AS `label`,\'0\' AS `pid`,\'leaf\' AS `node_type`,\'user\' AS `model_type`,\'user\' AS `model_inner_type`,\'target\' AS `auth_type`,`dataease`.`sys_user`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_user` where (`dataease`.`sys_user`.`is_admin` <> 1) union all select `dataease`.`sys_role`.`role_id` AS `id`,`dataease`.`sys_role`.`name` AS `name`,`dataease`.`sys_role`.`name` AS `label`,\'0\' AS `pid`,\'leaf\' AS `node_type`,\'role\' AS `model_type`,\'role\' AS `model_inner_type`,\'target\' AS `auth_type`,`dataease`.`sys_role`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_role` union all select `dataease`.`sys_dept`.`dept_id` AS `id`,`dataease`.`sys_dept`.`name` AS `name`,`dataease`.`sys_dept`.`name` AS `label`,(cast(`dataease`.`sys_dept`.`pid` as char charset utf8mb4) collate utf8mb4_general_ci) AS `pid`,if((`dataease`.`sys_dept`.`sub_count` = 0),\'leaf\',\'spine\') AS `node_type`,\'dept\' AS `model_type`,\'dept\' AS `model_inner_type`,\'target\' AS `auth_type`,`dataease`.`sys_dept`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_dept` union all select `dataease`.`datasource`.`id` AS `id`,`dataease`.`datasource`.`name` AS `NAME`,`dataease`.`datasource`.`name` AS `label`,\'0\' AS `pid`,\'leaf\' AS `node_type`,\'link\' AS `model_type`,`dataease`.`datasource`.`type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`datasource`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`datasource` union all select `dataease`.`dataset_group`.`id` AS `id`,`dataease`.`dataset_group`.`name` AS `NAME`,`dataease`.`dataset_group`.`name` AS `label`,if(isnull(`dataease`.`dataset_group`.`pid`),\'0\',`dataease`.`dataset_group`.`pid`) AS `pid`,\'spine\' AS `node_type`,\'dataset\' AS `model_type`,`dataease`.`dataset_group`.`type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`dataset_group`.`create_by` AS `create_by`,`dataease`.`dataset_group`.`level` AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`dataset_group` union all select `dataease`.`dataset_table`.`id` AS `id`,`dataease`.`dataset_table`.`name` AS `NAME`,`dataease`.`dataset_table`.`name` AS `label`,`dataease`.`dataset_table`.`scene_id` AS `pid`,\'leaf\' AS `node_type`,\'dataset\' AS `model_type`,`dataease`.`dataset_table`.`type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`dataset_table`.`create_by` AS `create_by`,0 AS `level`,`dataease`.`dataset_table`.`mode` AS `mode`,`dataease`.`dataset_table`.`data_source_id` AS `data_source_id` from `dataease`.`dataset_table` union all select `dataease`.`panel_group`.`id` AS `id`,`dataease`.`panel_group`.`name` AS `NAME`,`dataease`.`panel_group`.`name` AS `label`,(case `dataease`.`panel_group`.`id` when \'panel_list\' then \'0\' when \'default_panel\' then \'0\' else `dataease`.`panel_group`.`pid` end) AS `pid`,if((`dataease`.`panel_group`.`node_type` = \'folder\'),\'spine\',\'leaf\') AS `node_type`,\'panel\' AS `model_type`,`dataease`.`panel_group`.`panel_type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`panel_group`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`panel_group` union all select `dataease`.`sys_menu`.`menu_id` AS `menu_id`,`dataease`.`sys_menu`.`title` AS `name`,`dataease`.`sys_menu`.`title` AS `label`,`dataease`.`sys_menu`.`pid` AS `pid`,if((`dataease`.`sys_menu`.`sub_count` > 0),\'spine\',\'leaf\') AS `node_type`,\'menu\' AS `model_type`,(case `dataease`.`sys_menu`.`type` when 0 then \'folder\' when 1 then \'menu\' when 2 then \'button\' end) AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`sys_menu`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_menu` where ((`dataease`.`sys_menu`.`i_frame` <> 1) or isnull(`dataease`.`sys_menu`.`i_frame`)) union all select `dataease`.`plugin_sys_menu`.`menu_id` AS `menu_id`,`dataease`.`plugin_sys_menu`.`title` AS `name`,`dataease`.`plugin_sys_menu`.`title` AS `label`,`dataease`.`plugin_sys_menu`.`pid` AS `pid`,if((`dataease`.`plugin_sys_menu`.`sub_count` > 0),\'spine\',\'leaf\') AS `node_type`,\'menu\' AS `model_type`,(case `dataease`.`plugin_sys_menu`.`type` when 0 then \'folder\' when 1 then \'menu\' when 2 then \'button\' end) AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`plugin_sys_menu`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`plugin_sys_menu` where ((`dataease`.`plugin_sys_menu`.`i_frame` <> 1) or isnull(`dataease`.`plugin_sys_menu`.`i_frame`))
md5=185c42990b4cab134cf9fafe50675ffc
updatable=0
algorithm=0
definer_user=root
definer_host=%
suid=1
with_check_option=0
timestamp=2022-11-12 22:53:04
create-version=1
source=SELECT\n                                                                             `sys_user`.`user_id` AS `id`,\n                                                                             concat( `sys_user`.`nick_name`, \'（\', `sys_user`.`username`, \'）\' ) AS `name`,\n                                                                             `sys_user`.`username` AS `label`,\n                                                                             \'0\' AS `pid`,\n                                                                             \'leaf\' AS `node_type`,\n                                                                             \'user\' AS `model_type`,\n                                                                             \'user\' AS `model_inner_type`,\n                                                                             \'target\' AS `auth_type`,\n                                                                             `sys_user`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `sys_user`\n                                                                         WHERE\n                                                                             ( `sys_user`.`is_admin` <> 1 ) UNION ALL\n                                                                         SELECT\n                                                                             `sys_role`.`role_id` AS `id`,\n                                                                             `sys_role`.`name` AS `name`,\n                                                                             `sys_role`.`name` AS `label`,\n                                                                             \'0\' AS `pid`,\n                                                                             \'leaf\' AS `node_type`,\n                                                                             \'role\' AS `model_type`,\n                                                                             \'role\' AS `model_inner_type`,\n                                                                             \'target\' AS `auth_type`,\n                                                                             `sys_role`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `sys_role` UNION ALL\n                                                                         SELECT\n                                                                             `sys_dept`.`dept_id` AS `id`,\n                                                                             `sys_dept`.`name` AS `name`,\n                                                                             `sys_dept`.`name` AS `label`,(\n                                                                                     cast( `sys_dept`.`pid` AS CHAR charset utf8mb4 ) COLLATE utf8mb4_general_ci\n                                                                                 ) AS `pid`,\n                                                                             IF\n                                                                                 (( `sys_dept`.`sub_count` = 0 ), \'leaf\', \'spine\' ) AS `node_type`,\n                                                                             \'dept\' AS `model_type`,\n                                                                             \'dept\' AS `model_inner_type`,\n                                                                             \'target\' AS `auth_type`,\n                                                                             `sys_dept`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `sys_dept` UNION ALL\n                                                                         SELECT\n                                                                             `datasource`.`id` AS `id`,\n                                                                             `datasource`.`name` AS `NAME`,\n                                                                             `datasource`.`name` AS `label`,\n                                                                             \'0\' AS `pid`,\n                                                                             \'leaf\' AS `node_type`,\n                                                                             \'link\' AS `model_type`,\n                                                                             `datasource`.`type` AS `model_inner_type`,\n                                                                             \'source\' AS `auth_type`,\n                                                                             `datasource`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `datasource` UNION ALL\n                                                                         SELECT\n                                                                             `dataset_group`.`id` AS `id`,\n                                                                             `dataset_group`.`name` AS `NAME`,\n                                                                             `dataset_group`.`name` AS `label`,\n                                                                             IF\n                                                                                 ( isnull( `dataset_group`.`pid` ), \'0\', `dataset_group`.`pid` ) AS `pid`,\n                                                                             \'spine\' AS `node_type`,\n                                                                             \'dataset\' AS `model_type`,\n                                                                             `dataset_group`.`type` AS `model_inner_type`,\n                                                                             \'source\' AS `auth_type`,\n                                                                             `dataset_group`.`create_by` AS `create_by`,\n                                                                             `dataset_group`.`level` AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `dataset_group` UNION ALL\n                                                                         SELECT\n                                                                             `dataset_table`.`id` AS `id`,\n                                                                             `dataset_table`.`name` AS `NAME`,\n                                                                             `dataset_table`.`name` AS `label`,\n                                                                             `dataset_table`.`scene_id` AS `pid`,\n                                                                             \'leaf\' AS `node_type`,\n                                                                             \'dataset\' AS `model_type`,\n                                                                             `dataset_table`.`type` AS `model_inner_type`,\n                                                                             \'source\' AS `auth_type`,\n                                                                             `dataset_table`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             `dataset_table`.`mode` AS `mode`,\n                                                                             `dataset_table`.`data_source_id` AS `data_source_id`\n                                                                         FROM\n                                                                             `dataset_table` UNION ALL\n                                                                         SELECT\n                                                                             `panel_group`.`id` AS `id`,\n                                                                             `panel_group`.`name` AS `NAME`,\n                                                                             `panel_group`.`name` AS `label`,(\n                                                                                 CASE\n                                                                                     `panel_group`.`id`\n                                                                                     WHEN \'panel_list\' THEN\n                                                                                         \'0\'\n                                                                                     WHEN \'default_panel\' THEN\n                                                                                         \'0\' ELSE `panel_group`.`pid`\n                                                                                     END\n                                                                                 ) AS `pid`,\n                                                                             IF\n                                                                                 (( `panel_group`.`node_type` = \'folder\' ), \'spine\', \'leaf\' ) AS `node_type`,\n                                                                             \'panel\' AS `model_type`,\n                                                                             `panel_group`.`panel_type` AS `model_inner_type`,\n                                                                             \'source\' AS `auth_type`,\n                                                                             `panel_group`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `panel_group` UNION ALL\n                                                                         SELECT\n                                                                             `sys_menu`.`menu_id` AS `menu_id`,\n                                                                             `sys_menu`.`title` AS `name`,\n                                                                             `sys_menu`.`title` AS `label`,\n                                                                             `sys_menu`.`pid` AS `pid`,\n                                                                             IF\n                                                                                 (( `sys_menu`.`sub_count` > 0 ), \'spine\', \'leaf\' ) AS `node_type`,\n                                                                             \'menu\' AS `model_type`,(\n                                                                                 CASE\n                                                                                     `sys_menu`.`type`\n                                                                                     WHEN 0 THEN\n                                                                                         \'folder\'\n                                                                                     WHEN 1 THEN\n                                                                                         \'menu\'\n                                                                                     WHEN 2 THEN\n                                                                                         \'button\'\n                                                                                     END\n                                                                                 ) AS `model_inner_type`,\n                                                                             \'source\' AS `auth_type`,\n                                                                             `sys_menu`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `sys_menu`\n                                                                         WHERE\n                                                                             ((\n                                                                                      `sys_menu`.`i_frame` <> 1\n                                                                                  )\n                                                                                 OR isnull( `sys_menu`.`i_frame` )) UNION ALL\n                                                                         SELECT\n                                                                             `plugin_sys_menu`.`menu_id` AS `menu_id`,\n                                                                             `plugin_sys_menu`.`title` AS `name`,\n                                                                             `plugin_sys_menu`.`title` AS `label`,\n                                                                             `plugin_sys_menu`.`pid` AS `pid`,\n                                                                             IF\n                                                                                 (( `plugin_sys_menu`.`sub_count` > 0 ), \'spine\', \'leaf\' ) AS `node_type`,\n                                                                             \'menu\' AS `model_type`,(\n                                                                                 CASE\n                                                                                     `plugin_sys_menu`.`type`\n                                                                                     WHEN 0 THEN\n                                                                                         \'folder\'\n                                                                                     WHEN 1 THEN\n                                                                                         \'menu\'\n                                                                                     WHEN 2 THEN\n                                                                                         \'button\'\n                                                                                     END\n                                                                                 ) AS `model_inner_type`,\n                                                                             \'source\' AS `auth_type`,\n                                                                             `plugin_sys_menu`.`create_by` AS `create_by`,\n                                                                             0 AS `level`,\n                                                                             0 AS `mode`,\n                                                                             \'0\' AS `data_source_id`\n                                                                         FROM\n                                                                             `plugin_sys_menu`\n                                                                         WHERE\n                                                                             ((\n                                                                                      `plugin_sys_menu`.`i_frame` <> 1\n                                                                                  )\n                                                                                 OR isnull( `plugin_sys_menu`.`i_frame` ))
client_cs_name=utf8mb4
connection_cl_name=utf8mb4_general_ci
view_body_utf8=select `dataease`.`sys_user`.`user_id` AS `id`,concat(`dataease`.`sys_user`.`nick_name`,\'（\',`dataease`.`sys_user`.`username`,\'）\') AS `name`,`dataease`.`sys_user`.`username` AS `label`,\'0\' AS `pid`,\'leaf\' AS `node_type`,\'user\' AS `model_type`,\'user\' AS `model_inner_type`,\'target\' AS `auth_type`,`dataease`.`sys_user`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_user` where (`dataease`.`sys_user`.`is_admin` <> 1) union all select `dataease`.`sys_role`.`role_id` AS `id`,`dataease`.`sys_role`.`name` AS `name`,`dataease`.`sys_role`.`name` AS `label`,\'0\' AS `pid`,\'leaf\' AS `node_type`,\'role\' AS `model_type`,\'role\' AS `model_inner_type`,\'target\' AS `auth_type`,`dataease`.`sys_role`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_role` union all select `dataease`.`sys_dept`.`dept_id` AS `id`,`dataease`.`sys_dept`.`name` AS `name`,`dataease`.`sys_dept`.`name` AS `label`,(cast(`dataease`.`sys_dept`.`pid` as char charset utf8mb4) collate utf8mb4_general_ci) AS `pid`,if((`dataease`.`sys_dept`.`sub_count` = 0),\'leaf\',\'spine\') AS `node_type`,\'dept\' AS `model_type`,\'dept\' AS `model_inner_type`,\'target\' AS `auth_type`,`dataease`.`sys_dept`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_dept` union all select `dataease`.`datasource`.`id` AS `id`,`dataease`.`datasource`.`name` AS `NAME`,`dataease`.`datasource`.`name` AS `label`,\'0\' AS `pid`,\'leaf\' AS `node_type`,\'link\' AS `model_type`,`dataease`.`datasource`.`type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`datasource`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`datasource` union all select `dataease`.`dataset_group`.`id` AS `id`,`dataease`.`dataset_group`.`name` AS `NAME`,`dataease`.`dataset_group`.`name` AS `label`,if(isnull(`dataease`.`dataset_group`.`pid`),\'0\',`dataease`.`dataset_group`.`pid`) AS `pid`,\'spine\' AS `node_type`,\'dataset\' AS `model_type`,`dataease`.`dataset_group`.`type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`dataset_group`.`create_by` AS `create_by`,`dataease`.`dataset_group`.`level` AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`dataset_group` union all select `dataease`.`dataset_table`.`id` AS `id`,`dataease`.`dataset_table`.`name` AS `NAME`,`dataease`.`dataset_table`.`name` AS `label`,`dataease`.`dataset_table`.`scene_id` AS `pid`,\'leaf\' AS `node_type`,\'dataset\' AS `model_type`,`dataease`.`dataset_table`.`type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`dataset_table`.`create_by` AS `create_by`,0 AS `level`,`dataease`.`dataset_table`.`mode` AS `mode`,`dataease`.`dataset_table`.`data_source_id` AS `data_source_id` from `dataease`.`dataset_table` union all select `dataease`.`panel_group`.`id` AS `id`,`dataease`.`panel_group`.`name` AS `NAME`,`dataease`.`panel_group`.`name` AS `label`,(case `dataease`.`panel_group`.`id` when \'panel_list\' then \'0\' when \'default_panel\' then \'0\' else `dataease`.`panel_group`.`pid` end) AS `pid`,if((`dataease`.`panel_group`.`node_type` = \'folder\'),\'spine\',\'leaf\') AS `node_type`,\'panel\' AS `model_type`,`dataease`.`panel_group`.`panel_type` AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`panel_group`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`panel_group` union all select `dataease`.`sys_menu`.`menu_id` AS `menu_id`,`dataease`.`sys_menu`.`title` AS `name`,`dataease`.`sys_menu`.`title` AS `label`,`dataease`.`sys_menu`.`pid` AS `pid`,if((`dataease`.`sys_menu`.`sub_count` > 0),\'spine\',\'leaf\') AS `node_type`,\'menu\' AS `model_type`,(case `dataease`.`sys_menu`.`type` when 0 then \'folder\' when 1 then \'menu\' when 2 then \'button\' end) AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`sys_menu`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`sys_menu` where ((`dataease`.`sys_menu`.`i_frame` <> 1) or isnull(`dataease`.`sys_menu`.`i_frame`)) union all select `dataease`.`plugin_sys_menu`.`menu_id` AS `menu_id`,`dataease`.`plugin_sys_menu`.`title` AS `name`,`dataease`.`plugin_sys_menu`.`title` AS `label`,`dataease`.`plugin_sys_menu`.`pid` AS `pid`,if((`dataease`.`plugin_sys_menu`.`sub_count` > 0),\'spine\',\'leaf\') AS `node_type`,\'menu\' AS `model_type`,(case `dataease`.`plugin_sys_menu`.`type` when 0 then \'folder\' when 1 then \'menu\' when 2 then \'button\' end) AS `model_inner_type`,\'source\' AS `auth_type`,`dataease`.`plugin_sys_menu`.`create_by` AS `create_by`,0 AS `level`,0 AS `mode`,\'0\' AS `data_source_id` from `dataease`.`plugin_sys_menu` where ((`dataease`.`plugin_sys_menu`.`i_frame` <> 1) or isnull(`dataease`.`plugin_sys_menu`.`i_frame`))
